<div class="payment-view-modal">
  <div class="modal-header">
    <div class="header-content">
      <div class="header-icon">
        <i class="fa" [ngClass]="getPaymentTypeIcon(payment.payment_type)"></i>
      </div>
      <div class="header-text">
        <h2 class="modal-title">Payment Details</h2>
        <p class="modal-subtitle">{{ payment.recipient_name }}</p>
      </div>
    </div>
  </div>

  <div class="modal-body">
    <div class="amount-summary">
      <div class="summary-header">
        <i class="fa fa-money-bill-wave"></i>
        <span>Payment Amount</span>
      </div>
      <div class="summary-content">
        <div class="amount-value">{{ formatCurrency(payment.amount) }}</div>
        <div class="card-status" [ngClass]="getStatusClass(payment.status)">
          <i class="fa fa-circle status-dot"></i>
          {{ getStatusText(payment.status) }}
        </div>
      </div>
    </div>

    <div class="info-section">
      <h3 class="section-title">
        <i class="fa fa-circle-info"></i>
        Payment Information
      </h3>
      <div class="info-grid">
        <div class="info-item">
          <span class="info-label">Payment Type</span>
          <span class="info-value">
            <i
              class="fa"
              [ngClass]="getPaymentTypeIcon(payment.payment_type)"
            ></i>
            {{ getPaymentTypeText(payment.payment_type) }}
          </span>
        </div>

        @if (payment.payment_type === 'recurring') {
        <div class="info-item">
          <span class="info-label">Frequency</span>
          <span class="info-value">{{
            getFrequencyText(payment.frequency)
          }}</span>
        </div>
        }

        <div class="info-item">
          <span class="info-label">Currency</span>
          <span class="info-value">{{ payment.currency || "N/A" }}</span>
        </div>

        @if (payment.scheduled_date) {
        <div class="info-item">
          <span class="info-label">Scheduled Date</span>
          <span class="info-value">{{
            formatDate(payment.scheduled_date)
          }}</span>
        </div>
        } @if (payment.completed_at) {
        <div class="info-item">
          <span class="info-label">Completed Date</span>
          <span class="info-value">{{ formatDate(payment.completed_at) }}</span>
        </div>
        }
      </div>
    </div>

    <div class="info-section">
      <h3 class="section-title">
        <i class="fa fa-building-columns"></i>
        Account Details
      </h3>
      <div class="info-grid">
        <div class="info-item">
          <span class="info-label">From Account</span>
          <span class="info-value">{{
            getAccountName(payment.from_account_id)
          }}</span>
        </div>

        <div class="info-item">
          <span class="info-label">From Account Number</span>
          <span class="info-value">{{
            getAccountNumber(payment.from_account_id)
          }}</span>
        </div>

        <div class="info-item">
          <span class="info-label">Recipient</span>
          <span class="info-value">{{ payment.recipient_name }}</span>
        </div>

        <div class="info-item">
          <span class="info-label">To Account Number</span>
          <span class="info-value">{{ payment.to_account_number }}</span>
        </div>
      </div>
    </div>

    @if (payment.description) {
    <div class="info-section">
      <h3 class="section-title">
        <i class="fa fa-file-lines"></i>
        Description
      </h3>
      <div class="description-box">
        {{ payment.description }}
      </div>
    </div>
    }

    <div class="info-section">
      <h3 class="section-title">
        <i class="fa fa-clock"></i>
        Timeline
      </h3>
      <div class="info-grid">
        <div class="info-item">
          <span class="info-label">Created</span>
          <span class="info-value">{{ formatDate(payment.created_at) }}</span>
        </div>

        <div class="info-item">
          <span class="info-label">Last Updated</span>
          <span class="info-value">{{ formatDate(payment.updated_at) }}</span>
        </div>
      </div>
    </div>
  </div>
</div>
